<%-
klass_name = question.class.to_s.underscore
-%>
<%
answer = question.find_answer(@qa.answers)
%>
<dl class="form_element">
  <dt><%= answer.question.title %></dt>
  <dd>
    <%= builder.fields_for :answers, answer, :as => :answers do |f| %>
      <%= f.error_messages :header_message => false, :message => false, :header_tag => :h3 %>
      <%= f.hidden_field :my_type, :value => klass_name %>
      <%= f.hidden_field :question_id %>
      <%= render :partial => "pages/assets/#{klass_name}", :locals => {:builder => f, :klass => klass_name, :question => question, :answer => answer} %>
    <% end %>
  </dd>
</dl>
<%= javascript_tag <<-JS
$(document).ready(function(){
  $('.edit-stream form').validate({
    errorPlacement: function(error, element) {
      error.appendTo( element.parents("dd").prev() );
    }
  });
});
JS
%>
